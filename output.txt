pict@pict-OptiPlex-5070:~$ mysql -h 10.10.8.119 -u te31435 -p
Enter password: 
Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 206
Server version: 10.4.19-MariaDB MariaDB Server

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]> show tables;
ERROR 1046 (3D000): No database selected
MariaDB [(none)]> use te31435_db;
Database changed
MariaDB [te31435_db]> show tables;
Empty set (0.001 sec)

MariaDB [te31435_db]> CREATE TABLE Dept (
    ->   Dept_id INT PRIMARY KEY,
    ->   Dept_name VARCHAR(100) NOT NULL,
    ->   Dept_location VARCHAR(100)
    -> );
Query OK, 0 rows affected (0.158 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> CREATE TABLE Employee (
    ->   Emp_id INT PRIMARY KEY AUTO_INCREMENT,
    ->   Dept_id INT,
    ->   Emp_fname VARCHAR(100) NOT NULL,
    ->   Emp_lname VARCHAR(100) NOT NULL,
    ->   Emp_Position VARCHAR(100) NOT NULL,
    ->   Emp_salary DECIMAL(12,2) CHECK (Emp_salary > 0),
    ->   Emp_JoinDate DATE,
    ->   CONSTRAINT emp_dept FOREIGN KEY (Dept_id)
    ->     REFERENCES Dept(Dept_id) ON DELETE CASCADE
    -> );
Query OK, 0 rows affected (0.179 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> CREATE TABLE Project (
    ->   Proj_id INT PRIMARY KEY AUTO_INCREMENT,
    ->   Dept_id INT,
    ->   Proj_Name VARCHAR(100) NOT NULL,
    ->   Proj_Location VARCHAR(100),
    ->   Proj_cost DECIMAL(12,2) CHECK (Proj_cost > 0),
    ->   Proj_year YEAR,
    ->   CONSTRAINT proj_dept FOREIGN KEY (Dept_id)
    ->     REFERENCES Dept(Dept_id) ON DELETE CASCADE
    -> );
Query OK, 0 rows affected (0.176 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> CREATE INDEX idx_emp_lname ON Employee(Emp_lname);
Query OK, 0 rows affected (0.216 sec)
Records: 0  Duplicates: 0  Warnings: 0

MariaDB [te31435_db]> CREATE INDEX idx_proj_location ON Project(Proj_Location);
Query OK, 0 rows affected (0.178 sec)
Records: 0  Duplicates: 0  Warnings: 0

MariaDB [te31435_db]> INSERT INTO Dept VALUES
    -> (1, 'Computer', 'Hyderabad'),
    -> (2, 'IT', 'Chennai'),
    -> (3, 'ECE', 'Pune'),
    -> (4, 'AIDS', 'Hyderabad');
Query OK, 4 rows affected (0.034 sec)
Records: 4  Duplicates: 0  Warnings: 0

MariaDB [te31435_db]> INSERT INTO Employee (Dept_id, Emp_fname, Emp_lname, Emp_Position, Emp_salary, Emp_JoinDate) VALUES
    -> (1, 'Harsha', 'Verma', 'Lead Engineer', 85000, '1982-06-20'),
    -> (2, 'Preeti', 'Desai', 'Marketing Head', 75000, '1981-12-15'),
    -> (1, 'Hemal', 'Kapoor', 'Software Engineer', 62000, '1989-03-10'),
    -> (3, 'Pritam', 'Nair', 'Sales Executive', 50000, '1992-10-05'),
    -> (2, 'Hiral', 'Bose', 'Content Strategist', 54000, '1978-04-21'),
    -> (4, 'Priyansh', 'Rao', 'Warehouse Manager', 58000, '1983-07-30'),
    -> (3, 'Heena', 'Mehta', 'Sales Manager', 72000, '1980-01-01'),
    -> (1, 'Pratik', 'Jain', 'DevOps Engineer', 63000, '1994-09-15'),
    -> (2, 'Hardik', 'Ghosh', 'SEO Analyst', 46000, '1997-12-20'),
    -> (4, 'Pranjal', 'Menon', 'Supply Chain Analyst', 51000, '1985-05-11');
Query OK, 10 rows affected (0.107 sec)
Records: 10  Duplicates: 0  Warnings: 0

MariaDB [te31435_db]> INSERT INTO Project (Dept_id, Proj_Name, Proj_Location, Proj_cost, Proj_year) VALUES
    -> (1, 'Migration Project', 'Chennai', 250000, 2004),
    -> (2, 'Brand Campaign', 'Hyderabad', 300000, 2005),
    -> (3, 'Sales Boost', 'Chennai', 180000, 2007),
    -> (4, 'Inventory Audit', 'Pune', 80000, 2023),
    -> (1, 'CI/CD Automation', 'Chennai', 480000, 2007),
    -> (2, 'Email Outreach', 'Hyderabad', 220000, 2004),
    -> (3, 'Product Training', 'Chennai', 130000, 2005),
    -> (4, 'Budget Forecast', 'Hyderabad', 390000, 2007);
Query OK, 8 rows affected (0.074 sec)
Records: 8  Duplicates: 0  Warnings: 0

MariaDB [te31435_db]> SELECT e.*
    -> FROM Employee e
    -> JOIN Dept d ON e.Dept_id = d.Dept_id
    -> WHERE d.Dept_name IN ('Computer', 'IT')
    ->   AND (e.Emp_fname LIKE 'p%' OR e.Emp_fname LIKE 'h%');
+--------+---------+-----------+-----------+--------------------+------------+--------------+
| Emp_id | Dept_id | Emp_fname | Emp_lname | Emp_Position       | Emp_salary | Emp_JoinDate |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
|      1 |       1 | Harsha    | Verma     | Lead Engineer      |   85000.00 | 1982-06-20   |
|      3 |       1 | Hemal     | Kapoor    | Software Engineer  |   62000.00 | 1989-03-10   |
|      8 |       1 | Pratik    | Jain      | DevOps Engineer    |   63000.00 | 1994-09-15   |
|      2 |       2 | Preeti    | Desai     | Marketing Head     |   75000.00 | 1981-12-15   |
|      5 |       2 | Hiral     | Bose      | Content Strategist |   54000.00 | 1978-04-21   |
|      9 |       2 | Hardik    | Ghosh     | SEO Analyst        |   46000.00 | 1997-12-20   |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
6 rows in set (0.002 sec)

MariaDB [te31435_db]> SELECT Emp_Position, COUNT(*) AS Position_Count
    -> FROM Employee
    -> GROUP BY Emp_Position;
+----------------------+----------------+
| Emp_Position         | Position_Count |
+----------------------+----------------+
| Content Strategist   |              1 |
| DevOps Engineer      |              1 |
| Lead Engineer        |              1 |
| Marketing Head       |              1 |
| Sales Executive      |              1 |
| Sales Manager        |              1 |
| SEO Analyst          |              1 |
| Software Engineer    |              1 |
| Supply Chain Analyst |              1 |
| Warehouse Manager    |              1 |
+----------------------+----------------+
10 rows in set (0.002 sec)

MariaDB [te31435_db]> UPDATE Employee
    -> SET Emp_salary = Emp_salary * 1.10
    -> WHERE YEAR(Emp_JoinDate) < 1985;
Query OK, 5 rows affected (0.025 sec)
Rows matched: 5  Changed: 5  Warnings: 0

MariaDB [te31435_db]> 
MariaDB [te31435_db]> -- Optional: view updated records
MariaDB [te31435_db]> SELECT Emp_id, Emp_fname, Emp_lname, Emp_salary, Emp_JoinDate
    -> FROM Employee
    -> WHERE YEAR(Emp_JoinDate) < 1985;
+--------+-----------+-----------+------------+--------------+
| Emp_id | Emp_fname | Emp_lname | Emp_salary | Emp_JoinDate |
+--------+-----------+-----------+------------+--------------+
|      1 | Harsha    | Verma     |   93500.00 | 1982-06-20   |
|      2 | Preeti    | Desai     |   82500.00 | 1981-12-15   |
|      5 | Hiral     | Bose      |   59400.00 | 1978-04-21   |
|      6 | Priyansh  | Rao       |   63800.00 | 1983-07-30   |
|      7 | Heena     | Mehta     |   79200.00 | 1980-01-01   |
+--------+-----------+-----------+------------+--------------+
5 rows in set (0.001 sec)

MariaDB [te31435_db]> DELETE FROM Dept WHERE Dept_location = 'Hyderabad';
Query OK, 2 rows affected (0.095 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> -- Check cascade effect:
MariaDB [te31435_db]> SELECT * FROM Dept;
+---------+-----------+---------------+
| Dept_id | Dept_name | Dept_location |
+---------+-----------+---------------+
|       2 | IT        | Chennai       |
|       3 | ECE       | Pune          |
+---------+-----------+---------------+
2 rows in set (0.066 sec)

MariaDB [te31435_db]> SELECT * FROM Employee;
+--------+---------+-----------+-----------+--------------------+------------+--------------+
| Emp_id | Dept_id | Emp_fname | Emp_lname | Emp_Position       | Emp_salary | Emp_JoinDate |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
|      2 |       2 | Preeti    | Desai     | Marketing Head     |   82500.00 | 1981-12-15   |
|      4 |       3 | Pritam    | Nair      | Sales Executive    |   50000.00 | 1992-10-05   |
|      5 |       2 | Hiral     | Bose      | Content Strategist |   59400.00 | 1978-04-21   |
|      7 |       3 | Heena     | Mehta     | Sales Manager      |   79200.00 | 1980-01-01   |
|      9 |       2 | Hardik    | Ghosh     | SEO Analyst        |   46000.00 | 1997-12-20   |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
5 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Project;
+---------+---------+------------------+---------------+-----------+-----------+
| Proj_id | Dept_id | Proj_Name        | Proj_Location | Proj_cost | Proj_year |
+---------+---------+------------------+---------------+-----------+-----------+
|       2 |       2 | Brand Campaign   | Hyderabad     | 300000.00 |      2005 |
|       3 |       3 | Sales Boost      | Chennai       | 180000.00 |      2007 |
|       6 |       2 | Email Outreach   | Hyderabad     | 220000.00 |      2004 |
|       7 |       3 | Product Training | Chennai       | 130000.00 |      2005 |
+---------+---------+------------------+---------------+-----------+-----------+
4 rows in set (0.001 sec)

MariaDB [te31435_db]> DELETE FROM Dept WHERE Dept_location = 'Hyderabad';
Query OK, 0 rows affected (0.001 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> -- Check cascade effect:
MariaDB [te31435_db]> SELECT * FROM Dept;
+---------+-----------+---------------+
| Dept_id | Dept_name | Dept_location |
+---------+-----------+---------------+
|       2 | IT        | Chennai       |
|       3 | ECE       | Pune          |
+---------+-----------+---------------+
2 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Employee;
+--------+---------+-----------+-----------+--------------------+------------+--------------+
| Emp_id | Dept_id | Emp_fname | Emp_lname | Emp_Position       | Emp_salary | Emp_JoinDate |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
|      2 |       2 | Preeti    | Desai     | Marketing Head     |   82500.00 | 1981-12-15   |
|      4 |       3 | Pritam    | Nair      | Sales Executive    |   50000.00 | 1992-10-05   |
|      5 |       2 | Hiral     | Bose      | Content Strategist |   59400.00 | 1978-04-21   |
|      7 |       3 | Heena     | Mehta     | Sales Manager      |   79200.00 | 1980-01-01   |
|      9 |       2 | Hardik    | Ghosh     | SEO Analyst        |   46000.00 | 1997-12-20   |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
5 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Project;
+---------+---------+------------------+---------------+-----------+-----------+
| Proj_id | Dept_id | Proj_Name        | Proj_Location | Proj_cost | Proj_year |
+---------+---------+------------------+---------------+-----------+-----------+
|       2 |       2 | Brand Campaign   | Hyderabad     | 300000.00 |      2005 |
|       3 |       3 | Sales Boost      | Chennai       | 180000.00 |      2007 |
|       6 |       2 | Email Outreach   | Hyderabad     | 220000.00 |      2004 |
|       7 |       3 | Product Training | Chennai       | 130000.00 |      2005 |
+---------+---------+------------------+---------------+-----------+-----------+
4 rows in set (0.001 sec)

MariaDB [te31435_db]> DELETE FROM Dept WHERE Dept_location = 'Hyderabad';
Query OK, 0 rows affected (0.001 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> -- Check cascade effect:
MariaDB [te31435_db]> SELECT * FROM Dept;
+---------+-----------+---------------+
| Dept_id | Dept_name | Dept_location |
+---------+-----------+---------------+
|       2 | IT        | Chennai       |
|       3 | ECE       | Pune          |
+---------+-----------+---------------+
2 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Employee;
+--------+---------+-----------+-----------+--------------------+------------+--------------+
| Emp_id | Dept_id | Emp_fname | Emp_lname | Emp_Position       | Emp_salary | Emp_JoinDate |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
|      2 |       2 | Preeti    | Desai     | Marketing Head     |   82500.00 | 1981-12-15   |
|      4 |       3 | Pritam    | Nair      | Sales Executive    |   50000.00 | 1992-10-05   |
|      5 |       2 | Hiral     | Bose      | Content Strategist |   59400.00 | 1978-04-21   |
|      7 |       3 | Heena     | Mehta     | Sales Manager      |   79200.00 | 1980-01-01   |
|      9 |       2 | Hardik    | Ghosh     | SEO Analyst        |   46000.00 | 1997-12-20   |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
5 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Project;
+---------+---------+------------------+---------------+-----------+-----------+
| Proj_id | Dept_id | Proj_Name        | Proj_Location | Proj_cost | Proj_year |
+---------+---------+------------------+---------------+-----------+-----------+
|       2 |       2 | Brand Campaign   | Hyderabad     | 300000.00 |      2005 |
|       3 |       3 | Sales Boost      | Chennai       | 180000.00 |      2007 |
|       6 |       2 | Email Outreach   | Hyderabad     | 220000.00 |      2004 |
|       7 |       3 | Product Training | Chennai       | 130000.00 |      2005 |
+---------+---------+------------------+---------------+-----------+-----------+
4 rows in set (0.001 sec)

MariaDB [te31435_db]> DELETE FROM Dept WHERE Dept_location = 'Hyderabad';
Query OK, 0 rows affected (0.001 sec)

MariaDB [te31435_db]> 
MariaDB [te31435_db]> -- Check cascade effect:
MariaDB [te31435_db]> SELECT * FROM Dept;
+---------+-----------+---------------+
| Dept_id | Dept_name | Dept_location |
+---------+-----------+---------------+
|       2 | IT        | Chennai       |
|       3 | ECE       | Pune          |
+---------+-----------+---------------+
2 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Employee;
+--------+---------+-----------+-----------+--------------------+------------+--------------+
| Emp_id | Dept_id | Emp_fname | Emp_lname | Emp_Position       | Emp_salary | Emp_JoinDate |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
|      2 |       2 | Preeti    | Desai     | Marketing Head     |   82500.00 | 1981-12-15   |
|      4 |       3 | Pritam    | Nair      | Sales Executive    |   50000.00 | 1992-10-05   |
|      5 |       2 | Hiral     | Bose      | Content Strategist |   59400.00 | 1978-04-21   |
|      7 |       3 | Heena     | Mehta     | Sales Manager      |   79200.00 | 1980-01-01   |
|      9 |       2 | Hardik    | Ghosh     | SEO Analyst        |   46000.00 | 1997-12-20   |
+--------+---------+-----------+-----------+--------------------+------------+--------------+
5 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT * FROM Project;
+---------+---------+------------------+---------------+-----------+-----------+
| Proj_id | Dept_id | Proj_Name        | Proj_Location | Proj_cost | Proj_year |
+---------+---------+------------------+---------------+-----------+-----------+
|       2 |       2 | Brand Campaign   | Hyderabad     | 300000.00 |      2005 |
|       3 |       3 | Sales Boost      | Chennai       | 180000.00 |      2007 |
|       6 |       2 | Email Outreach   | Hyderabad     | 220000.00 |      2004 |
|       7 |       3 | Product Training | Chennai       | 130000.00 |      2005 |
+---------+---------+------------------+---------------+-----------+-----------+
4 rows in set (0.001 sec)

MariaDB [te31435_db]> DELETE FROM Dept WHERE Dept_location = 'Hyderabad';
Query OK, 0 rows affected (0.001 sec)

MariaDB [te31435_db]> SELECT Proj_Name
    -> FROM Project
    -> WHERE LOWER(Proj_Location) = 'pune';
Empty set (0.001 sec)

MariaDB [te31435_db]> SELECT *
    -> FROM Project
    -> WHERE Proj_cost BETWEEN 100000 AND 500000;
+---------+---------+------------------+---------------+-----------+-----------+
| Proj_id | Dept_id | Proj_Name        | Proj_Location | Proj_cost | Proj_year |
+---------+---------+------------------+---------------+-----------+-----------+
|       2 |       2 | Brand Campaign   | Hyderabad     | 300000.00 |      2005 |
|       3 |       3 | Sales Boost      | Chennai       | 180000.00 |      2007 |
|       6 |       2 | Email Outreach   | Hyderabad     | 220000.00 |      2004 |
|       7 |       3 | Product Training | Chennai       | 130000.00 |      2005 |
+---------+---------+------------------+---------------+-----------+-----------+
4 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT
    ->   (SELECT Proj_Name FROM Project ORDER BY Proj_cost DESC LIMIT 1) AS Max_Cost_Project,
    ->   (SELECT AVG(Proj_cost) FROM Project) AS Avg_Project_Cost;
+------------------+------------------+
| Max_Cost_Project | Avg_Project_Cost |
+------------------+------------------+
| Brand Campaign   |    207500.000000 |
+------------------+------------------+
1 row in set (0.002 sec)

MariaDB [te31435_db]> SELECT Emp_id, CONCAT(Emp_fname, ' ', Emp_lname) AS Emp_name
    -> FROM Employee
    -> ORDER BY Emp_lname DESC;
+--------+--------------+
| Emp_id | Emp_name     |
+--------+--------------+
|      4 | Pritam Nair  |
|      7 | Heena Mehta  |
|      9 | Hardik Ghosh |
|      2 | Preeti Desai |
|      5 | Hiral Bose   |
+--------+--------------+
5 rows in set (0.001 sec)

MariaDB [te31435_db]> SELECT Proj_Name, Proj_Location, Proj_cost
    -> FROM Project
    -> WHERE Proj_year IN (2004, 2005, 2007);
+------------------+---------------+-----------+
| Proj_Name        | Proj_Location | Proj_cost |
+------------------+---------------+-----------+
| Brand Campaign   | Hyderabad     | 300000.00 |
| Sales Boost      | Chennai       | 180000.00 |
| Email Outreach   | Hyderabad     | 220000.00 |
| Product Training | Chennai       | 130000.00 |
+------------------+---------------+-----------+
4 rows in set (0.001 sec)

